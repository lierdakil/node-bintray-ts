"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const rest_1 = require("./rest");
const repo_1 = require("./repo");
class Bintray {
    constructor(username, apikey, subject = username, apiBaseUrl = 'https://bintray.com/api/v1', customBent) {
        this.subject = subject;
        this.getRepositories = async () => this.rest.get(`/repos/${this.subject}`);
        this.repository = (repo) => new repo_1.Repository(this.subject, repo, this.rest);
        this.rest = new rest_1.Rest(apiBaseUrl, username, apikey, customBent);
    }
}
exports.Bintray = Bintray;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYmludHJheS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlDQUE2QjtBQUM3QixpQ0FBbUM7QUFRbkMsTUFBYSxPQUFPO0lBR2xCLFlBQ0UsUUFBZ0IsRUFDaEIsTUFBYyxFQUNOLFVBQWtCLFFBQVEsRUFDbEMsVUFBVSxHQUFHLDRCQUE0QixFQUN6QyxVQUFrQztRQUYxQixZQUFPLEdBQVAsT0FBTyxDQUFtQjtRQU83QixvQkFBZSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUErQixDQUFBO1FBRWhFLGVBQVUsR0FBRyxDQUFDLElBQVksRUFBRSxFQUFFLENBQ25DLElBQUksaUJBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFQN0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLFdBQUksQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQTtJQUNoRSxDQUFDO0NBT0Y7QUFsQkQsMEJBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzdCB9IGZyb20gJy4vcmVzdCdcbmltcG9ydCB7IFJlcG9zaXRvcnkgfSBmcm9tICcuL3JlcG8nXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3NpdG9yeVNob3J0IHtcbiAgbmFtZTogc3RyaW5nXG4gIG93bmVyOiBzdHJpbmdcbiAgbGFzdFVwZGF0ZWQ6IHN0cmluZyAvLyBJU08gZGF0ZVxufVxuXG5leHBvcnQgY2xhc3MgQmludHJheSB7XG4gIHByaXZhdGUgcmVzdDogUmVzdFxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgYXBpa2V5OiBzdHJpbmcsXG4gICAgcHJpdmF0ZSBzdWJqZWN0OiBzdHJpbmcgPSB1c2VybmFtZSxcbiAgICBhcGlCYXNlVXJsID0gJ2h0dHBzOi8vYmludHJheS5jb20vYXBpL3YxJyxcbiAgICBjdXN0b21CZW50PzogdHlwZW9mIGltcG9ydCgnYmVudCcpLFxuICApIHtcbiAgICB0aGlzLnJlc3QgPSBuZXcgUmVzdChhcGlCYXNlVXJsLCB1c2VybmFtZSwgYXBpa2V5LCBjdXN0b21CZW50KVxuICB9XG5cbiAgcHVibGljIGdldFJlcG9zaXRvcmllcyA9IGFzeW5jICgpID0+XG4gICAgdGhpcy5yZXN0LmdldChgL3JlcG9zLyR7dGhpcy5zdWJqZWN0fWApIGFzIFByb21pc2U8UmVwb3NpdG9yeVNob3J0W10+XG5cbiAgcHVibGljIHJlcG9zaXRvcnkgPSAocmVwbzogc3RyaW5nKSA9PlxuICAgIG5ldyBSZXBvc2l0b3J5KHRoaXMuc3ViamVjdCwgcmVwbywgdGhpcy5yZXN0KVxufVxuIl19