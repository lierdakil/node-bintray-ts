"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const package_1 = require("./package");
const apiEp_1 = require("./apiEp");
class Repository extends apiEp_1.ApiEP {
    constructor(subject, repo, rest) {
        super(`/repos/${subject}`, repo, rest);
        this.subject = subject;
        this.repo = repo;
        this.package = (pkg) => new package_1.Package(this.subject, this.repo, pkg, this.rest);
        this.getPackages = async (start = 0, startName) => this.rest.get(`${this.apiBase}/packages?start_pos=${start}` +
            (startName !== undefined ? '&start_name=' + startName : ''));
    }
}
exports.Repository = Repository;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9iaW50cmF5L3JlcG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx1Q0FBbUM7QUFFbkMsbUNBQStCO0FBK0MvQixNQUFhLFVBQVcsU0FBUSxhQUFxQztJQUNuRSxZQUFvQixPQUFlLEVBQVUsSUFBWSxFQUFFLElBQVU7UUFDbkUsS0FBSyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBRHBCLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFBVSxTQUFJLEdBQUosSUFBSSxDQUFRO1FBS2xELFlBQU8sR0FBRyxDQUFDLEdBQVcsRUFBRSxFQUFFLENBQy9CLElBQUksaUJBQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUcvQyxnQkFBVyxHQUFHLEtBQUssRUFBRSxLQUFLLEdBQUcsQ0FBQyxFQUFFLFNBQWtCLEVBQUUsRUFBRSxDQUMzRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FDWCxHQUFHLElBQUksQ0FBQyxPQUFPLHVCQUF1QixLQUFLLEVBQUU7WUFDM0MsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxjQUFjLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FDbkMsQ0FBQTtJQVg5QixDQUFDO0NBWUY7QUFmRCxnQ0FlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhY2thZ2UgfSBmcm9tICcuL3BhY2thZ2UnXG5pbXBvcnQgeyBSZXN0IH0gZnJvbSAnLi9yZXN0J1xuaW1wb3J0IHsgQXBpRVAgfSBmcm9tICcuL2FwaUVwJ1xuXG50eXBlIFJlcG9zaXRvcnlUeXBlID1cbiAgfCAnbWF2ZW4nXG4gIHwgJ2RlYmlhbidcbiAgfCAnY29uYW4nXG4gIHwgJ3JwbSdcbiAgfCAnZG9ja2VyJ1xuICB8ICducG0nXG4gIHwgJ29wa2cnXG4gIHwgJ251Z2V0J1xuICB8ICd2YWdyYW50J1xuICB8ICdnZW5lcmljJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlcG9zaXRvcnlEYXRhIHtcbiAgbmFtZTogc3RyaW5nXG4gIGRlc2M6IHN0cmluZ1xuICB0eXBlPzogUmVwb3NpdG9yeVR5cGVcbiAgcHJpdmF0ZT86IGJvb2xlYW5cbiAgYnVzaW5lc3NfdW5pdD86IHN0cmluZ1xuICBsYWJlbHM/OiBzdHJpbmdbXVxuICBncGdfc2lnbl9tZXRhZGF0YT86IGJvb2xlYW5cbiAgZ3BnX3NpZ25fZmlsZXM/OiBib29sZWFuXG4gIGdwZ191c2Vfb3duZXJfa2V5PzogYm9vbGVhblxuICB2ZXJzaW9uX3VwZGF0ZV9tYXhfZGF5cz86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcG9zaXRvcnlJbmZvIHtcbiAgbmFtZTogc3RyaW5nXG4gIG93bmVyOiBzdHJpbmdcbiAgdHlwZTogUmVwb3NpdG9yeVR5cGVcbiAgcHJpdmF0ZTogYm9vbGVhblxuICBwcmVtaXVtOiBib29sZWFuXG4gIGRlc2M6IHN0cmluZ1xuICBsYWJlbHM6IHN0cmluZ1tdXG4gIGNyZWF0ZWQ6IHN0cmluZyAvLyBJU08gZGF0ZVxuICBwYWNrYWdlX2NvdW50OiBudW1iZXJcbiAgZ3BnX3VzZV9vd25lcl9rZXk6IGJvb2xlYW5cbiAgZ3BnX3NpZ25fZmlsZXM6IGJvb2xlYW5cbiAgZ3BnX3NpZ25fbWV0YWRhdGE6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWNrYWdlU2hvcnQge1xuICBuYW1lOiBzdHJpbmdcbiAgbGlua2VkOiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBSZXBvc2l0b3J5IGV4dGVuZHMgQXBpRVA8UmVwb3NpdG9yeUluZm8sIFJlcG9zaXRvcnlEYXRhPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3ViamVjdDogc3RyaW5nLCBwcml2YXRlIHJlcG86IHN0cmluZywgcmVzdDogUmVzdCkge1xuICAgIHN1cGVyKGAvcmVwb3MvJHtzdWJqZWN0fWAsIHJlcG8sIHJlc3QpXG4gIH1cblxuICAvLyBhY2Nlc3NvclxuICBwdWJsaWMgcGFja2FnZSA9IChwa2c6IHN0cmluZykgPT5cbiAgICBuZXcgUGFja2FnZSh0aGlzLnN1YmplY3QsIHRoaXMucmVwbywgcGtnLCB0aGlzLnJlc3QpXG5cbiAgLy8gYXBpIGNhbGxzXG4gIHB1YmxpYyBnZXRQYWNrYWdlcyA9IGFzeW5jIChzdGFydCA9IDAsIHN0YXJ0TmFtZT86IHN0cmluZykgPT5cbiAgICB0aGlzLnJlc3QuZ2V0KFxuICAgICAgYCR7dGhpcy5hcGlCYXNlfS9wYWNrYWdlcz9zdGFydF9wb3M9JHtzdGFydH1gICtcbiAgICAgICAgKHN0YXJ0TmFtZSAhPT0gdW5kZWZpbmVkID8gJyZzdGFydF9uYW1lPScgKyBzdGFydE5hbWUgOiAnJyksXG4gICAgKSBhcyBQcm9taXNlPFBhY2thZ2VTaG9ydFtdPlxufVxuIl19